<script lang="ts">
import { defineComponent, ref } from 'vue'
import ItemCard from './components/ItemCard.vue'
import CartPanel from './components/CartPanel.vue'
import type { Product } from './types'

export default defineComponent({
  name: 'App',
  components: { ItemCard, CartPanel },
  setup() {
    const showCart = ref(false)
    const products = ref<Product[]>([
      { id: 1, name: '–•–ª—ñ–±', price: 25 },
      { id: 2, name: '–ú–æ–ª–æ–∫–æ 1–ª', price: 39 },
      { id: 3, name: '–Ø–π—Ü—è 10—à—Ç', price: 78 },
      { id: 4, name: '–°–∏—Ä 200–≥', price: 120 },
      { id: 5, name: '–ö–∞–≤–∞ 250–≥', price: 260 }
    ])
    function toggleCart() { showCart.value = !showCart.value }
    return { showCart, products, toggleCart }
  }
})
</script>

<template>
  <div class="app">
    <header class="header">
      <h1>–°–∫–∞—Ä–±–Ω–∏—á–∫–∞ –ø–æ–∫—É–ø–æ–∫</h1>
      <div>
        <button class="button" @click="toggleCart">–ü–æ–∫–∞–∑–∞—Ç–∏/–ü—Ä–∏—Ö–æ–≤–∞—Ç–∏ —Å–∫–∞—Ä–±–Ω–∏—á–∫—É</button>
      </div>
    </header>

    <main>
      <section class="products">
        <ItemCard v-for="p in products" :key="p.id" :product="p" variant="product" />
      </section>
    </main>

    <div class="cart-toggle">
      <button class="button btn-primary" @click="toggleCart">üß∫ –°–∫–∞—Ä–±–Ω–∏—á–∫–∞</button>
    </div>

    <CartPanel v-if="showCart" />
  </div>
</template>
